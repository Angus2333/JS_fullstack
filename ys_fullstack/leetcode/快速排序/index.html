<script>
    //快速排序
    function partition() {
        //[5,4,9,7,2]
        //[2,4,4,7,9] i=2;j=4
        //[]              j=1
        //     let privt = arr[0] //基准值
        //     let i = 0,
        //         j = arr.length - 1;
        //     while (i < j) {
        //         //在右边找小于基准值的数，
        //         while (arr[j] >= privt) {
        //             j--;
        //         }
        //         arr[i] = arr[j]
        //             //在左边找到大于基准值的数
        //         while (arr[i] <= privt) {
        //             i++;
        //         }
        //         arr[j] = arr[i]
        //     }
        //     arr[i] = privt; //撞到的位置，给基准值
        // }
        function quick_sort(arr, from, to) {
            var i = from; //哨兵i
            var j = to; //哨兵j
            var key = arr[from]; //标准值
            if (from >= to) { //如果数组只有一个元素
                return;
            }
            while (i < j) {
                //从右边向左找第一个比key小的数，找到或者两个哨兵相碰，跳出循环
                while (arr[j] > key && i < j) {
                    j--;
                }
                //从左边向右找第一个比key大的数，找到或者两个哨兵相碰，跳出循环,
                //这里的=号保证在本轮循环结束前，
                //key的位置不变，否则的话跳出循环，交换i和from的位置的时候，
                //from位置的上元素有可能不是key
                while (arr[i] <= key && i < j) {
                    i++;
                }
                /**
                  代码执行道这里，
                  1、两个哨兵到找到了目标值。
                  2、j哨兵找到了目标值。
                  3、两个哨兵都没找到(key是当前数组最小值)
                **/
                if (i < j) { //交换两个元素的位置
                    var temp = arr[i];
                    arr[i] = arr[j];
                    arr[j] = temp;

                }
                arr[from] = arr[i] //
                arr[i] = key;
            }

        }

        quick_sort(arr, from, i - 1);
        quick_sort(arr, i + 1, to);
        var arr = [3, 3, -5, 6, 0, 2, -1, -1, 3];
        console.log(arr);
        quick_sort(arr, 0, arr.length - 1);
        console.log(arr);



























        // var quickSort = function(arr) {     　　
        //     if (arr.length <= 1) {
        //         return arr;
        //     }　　
        //     var pivotIndex = Math.floor(arr.length / 2);　　
        //     var pivot = arr.splice(pivotIndex, 1)[0];　　
        //     var left = [];
        //     var right = [];
        //     for (var i = 0; i < arr.length; i++) {
        //         if (arr[i] < pivot) {
        //             left.push(arr[i]);  　　　　
        //         } else { 　　　　　　
        //             right.push(arr[i]);   　　　　
        //         }  　　
        //     }　　
        //     return quickSort(left).concat([pivot], quickSort(right));
        // };
    }
</script>